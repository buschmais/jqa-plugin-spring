<jqa:jqassistant-rules xmlns:jqa="http://www.buschmais.com/jqassistant/core/rule/schema/v1.4">

    <concept id="spring-data:AnnotatedRepository">
        <description>Labels all types annotated with "@org.springframework.stereotype.Repository" with "Spring",
            "Repository" and "Component".
        </description>
        <cypher><![CDATA[
            MATCH
              (repository:Type)-[:ANNOTATED_BY]->()-[:OF_TYPE]->(annotationType:Type)
            WHERE
              annotationType.fqn = "org.springframework.stereotype.Repository"
            SET
              repository:Spring:Repository:Component
            RETURN
              repository as Repository
        ]]></cypher>
    </concept>

    <concept id="spring-data:ImplementedRepository">
        <description>Labels all types implementing "org.springframework.data.repository.Repository" with "Spring",
            "Repository" and "Component".
        </description>
        <cypher><![CDATA[
            MATCH
              (repository:Type)-[:EXTENDS|IMPLEMENTS*]->(superType:Type)
            WHERE
              superType.fqn in [
                "org.springframework.data.repository.Repository",
                "org.springframework.data.repository.CrudRepository",
                "org.springframework.data.repository.PagingAndSortingRepository",
                "org.springframework.data.jpa.repository.JpaRepository",
                "org.springframework.data.jpa.repository.support.SimpleJpaRepository",
                "org.springframework.data.jpa.repository.support.QueryDslJpaRepository"
              ]
            SET
              repository:Spring:Repository:Component
            RETURN
              repository as Repository
        ]]></cypher>
    </concept>

</jqa:jqassistant-rules>
